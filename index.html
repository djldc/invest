<!DOCTYPE html>
<html lang="en">
<head>
  <script src="/sitelock.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beginner's Guide to Investing Principles ‚Äî Master the Fundamentals of Building Wealth</title>
  <meta name="description" content="Master the fundamentals of building wealth through smart investing strategies. A practical guide by FundsEdge.com.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --slate: #3D5A80;
      --slate-deep: #2C4A6E;
      --slate-dark: #1B3A5C;
      --gold: #D4A843;
      --gold-light: #E8C96A;
      --gold-warm: #C49A38;
      --white: #FFFFFF;
      --gray-50: #F5F7FA;
      --gray-100: #E8ECF2;
      --gray-200: #D0D7E2;
      --gray-600: #5A6B82;
      --gray-800: #2A3B52;
      --green: #4ECB71;
      --blue-accent: #5B9BD5;
      --purple-accent: #9B6BCD;
      --coral: #E8755A;
      --radius: 12px;
      --shadow: 0 4px 24px rgba(61,90,128,0.12);
      --shadow-lg: 0 12px 48px rgba(61,90,128,0.20);
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'Inter', -apple-system, sans-serif;
      color: var(--gray-800);
      background: var(--white);
      line-height: 1.7;
      overflow-x: hidden;
    }

    /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      background: rgba(44,74,110,0.96);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(212,168,67,0.15);
    }
    .nav-inner {
      max-width: 1200px; margin: 0 auto;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0.85rem 2rem;
    }
    .nav-logo {
      font-family: 'Playfair Display', serif;
      color: var(--gold); font-size: 1.25rem; font-weight: 800;
      text-decoration: none; letter-spacing: -0.02em;
    }
    .nav-links { display: flex; gap: 2rem; list-style: none; }
    .nav-links a {
      color: rgba(255,255,255,0.75); text-decoration: none;
      font-size: 0.9rem; font-weight: 500; transition: color 0.2s;
    }
    .nav-links a:hover { color: var(--gold); }
    .nav-cta {
      background: var(--gold); color: var(--slate-dark) !important;
      padding: 0.5rem 1.25rem; border-radius: 8px;
      font-weight: 700 !important; font-size: 0.85rem !important;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .nav-cta:hover { transform: translateY(-1px); box-shadow: 0 4px 16px rgba(212,168,67,0.4); }

    .mobile-toggle { display: none; background: none; border: none; cursor: pointer; }
    .mobile-toggle span { display: block; width: 24px; height: 2px; background: var(--white); margin: 5px 0; transition: 0.3s; }

    /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
    .hero {
      background: linear-gradient(165deg, var(--slate-dark) 0%, var(--slate) 50%, #4B6D94 100%);
      padding: 10rem 2rem 6rem;
      position: relative; overflow: hidden;
    }
    .hero::before {
      content: ''; position: absolute; inset: 0;
      background: radial-gradient(ellipse at 30% 50%, rgba(212,168,67,0.06) 0%, transparent 60%),
                  radial-gradient(ellipse at 80% 20%, rgba(91,155,213,0.05) 0%, transparent 50%);
    }
    /* Floating decorative elements */
    .hero::after {
      content: ''; position: absolute; inset: 0; pointer-events: none;
      background:
        radial-gradient(circle at 10% 20%, rgba(78,203,113,0.08) 0%, transparent 8%),
        radial-gradient(circle at 85% 75%, rgba(155,107,205,0.06) 0%, transparent 10%),
        radial-gradient(circle at 70% 15%, rgba(212,168,67,0.05) 0%, transparent 6%),
        radial-gradient(circle at 20% 80%, rgba(91,155,213,0.06) 0%, transparent 8%);
    }
    .hero-grid {
      max-width: 1200px; margin: 0 auto; position: relative;
      display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center;
    }
    .hero-text { color: var(--white); }
    .hero-badge {
      display: inline-block;
      background: rgba(212,168,67,0.15); border: 1px solid rgba(212,168,67,0.3);
      color: var(--gold-light); padding: 0.4rem 1rem; border-radius: 999px;
      font-size: 0.8rem; font-weight: 600; letter-spacing: 0.05em;
      text-transform: uppercase; margin-bottom: 1.5rem;
    }
    .hero h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2.2rem, 4.5vw, 3.5rem);
      line-height: 1.15; font-weight: 800; margin-bottom: 1.5rem;
    }
    .hero h1 span { color: var(--gold); }
    .hero-sub {
      font-size: 1.15rem; color: rgba(255,255,255,0.7);
      max-width: 520px; margin-bottom: 2.5rem; line-height: 1.8;
    }
    .hero-buttons { display: flex; gap: 1rem; flex-wrap: wrap; }
    .btn {
      display: inline-flex; align-items: center; gap: 0.5rem;
      padding: 0.9rem 2rem; border-radius: 10px; font-weight: 700;
      font-size: 1rem; text-decoration: none; transition: all 0.25s;
      border: none; cursor: pointer;
    }
    .btn-gold {
      background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
      color: var(--slate-dark); box-shadow: 0 4px 20px rgba(212,168,67,0.35);
    }
    .btn-gold:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(212,168,67,0.5); }
    .btn-outline {
      background: transparent; color: var(--white);
      border: 2px solid rgba(255,255,255,0.25);
    }
    .btn-outline:hover { border-color: var(--gold); color: var(--gold); }
    .hero-stats {
      display: flex; gap: 2.5rem; margin-top: 3rem;
      padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1);
    }
    .hero-stat-num {
      font-size: 1.6rem; font-weight: 800; color: var(--gold);
      display: block;
    }
    .hero-stat-label { font-size: 0.8rem; color: rgba(255,255,255,0.5); margin-top: 0.2rem; }

    /* Book visual */
    .hero-book { display: flex; justify-content: center; position: relative; }
    .book-3d { width: 320px; perspective: 1200px; }
    .book-glow {
      position: absolute; bottom: -30px; left: 50%; transform: translateX(-50%);
      width: 260px; height: 40px;
      background: radial-gradient(ellipse, rgba(212,168,67,0.2) 0%, transparent 70%);
      filter: blur(10px);
    }

    /* ‚îÄ‚îÄ SECTIONS ‚îÄ‚îÄ */
    section { padding: 5rem 2rem; }
    .section-header { text-align: center; max-width: 640px; margin: 0 auto 3.5rem; }
    .section-header h2 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(1.8rem, 3vw, 2.5rem);
      color: var(--slate-dark); margin-bottom: 1rem; line-height: 1.2;
    }
    .section-header p { color: var(--gray-600); font-size: 1.05rem; }
    .section-label {
      display: inline-block; color: var(--gold-warm); font-size: 0.8rem;
      font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase;
      margin-bottom: 0.75rem;
    }

    /* ‚îÄ‚îÄ PROBLEM / SOLUTION ‚îÄ‚îÄ */
    .problems { background: var(--gray-50); }
    .problem-grid {
      max-width: 1000px; margin: 0 auto;
      display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;
    }
    .problem-card, .solution-card {
      padding: 2rem; border-radius: var(--radius);
      display: flex; gap: 1rem; align-items: flex-start;
    }
    .problem-card {
      background: var(--white); border: 1px solid var(--gray-200);
    }
    .solution-card {
      background: linear-gradient(135deg, var(--slate) 0%, var(--slate-deep) 100%);
      color: var(--white);
    }
    .card-icon {
      width: 44px; height: 44px; border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      font-size: 1.3rem; flex-shrink: 0;
    }
    .problem-card .card-icon { background: #FEE2E2; }
    .solution-card .card-icon { background: rgba(212,168,67,0.2); }
    .card-title { font-weight: 700; margin-bottom: 0.3rem; font-size: 1rem; }
    .card-desc { font-size: 0.9rem; opacity: 0.8; line-height: 1.6; }

    /* ‚îÄ‚îÄ CHAPTERS ‚îÄ‚îÄ */
    .chapters-grid {
      max-width: 1000px; margin: 0 auto;
      display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem;
    }
    .chapter-card {
      background: var(--white); border: 1px solid var(--gray-200);
      border-radius: var(--radius); padding: 1.75rem;
      transition: all 0.3s; position: relative; overflow: hidden;
    }
    .chapter-card:hover {
      border-color: var(--gold); transform: translateY(-4px);
      box-shadow: var(--shadow);
    }
    .chapter-num {
      font-size: 2.5rem; font-weight: 800;
      color: var(--gray-100); position: absolute; top: 10px; right: 16px;
      font-family: 'Playfair Display', serif; line-height: 1;
    }
    .chapter-card h3 {
      font-size: 1.05rem; color: var(--slate-dark); margin-bottom: 0.5rem;
      position: relative;
    }
    .chapter-card p { font-size: 0.88rem; color: var(--gray-600); line-height: 1.6; }

    /* ‚îÄ‚îÄ TESTIMONIALS ‚îÄ‚îÄ */
    .testimonials { background: var(--slate-dark); color: var(--white); }
    .testimonials .section-header h2 { color: var(--white); }
    .testimonials .section-header p { color: rgba(255,255,255,0.6); }
    .testimonials .section-label { color: var(--gold); }
    .testimonial-grid {
      max-width: 1100px; margin: 0 auto;
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem;
    }
    .testimonial-card {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: var(--radius); padding: 2rem;
    }
    .stars { color: var(--gold); font-size: 1rem; margin-bottom: 1rem; letter-spacing: 2px; }
    .testimonial-text {
      font-size: 0.95rem; line-height: 1.7;
      color: rgba(255,255,255,0.8); margin-bottom: 1.5rem;
      font-style: italic;
    }
    .testimonial-author { display: flex; align-items: center; gap: 0.75rem; }
    .testimonial-avatar {
      width: 42px; height: 42px; border-radius: 50%;
      background: linear-gradient(135deg, var(--gold), var(--gold-light));
      display: flex; align-items: center; justify-content: center;
      font-weight: 800; color: var(--slate-dark); font-size: 1rem;
    }
    .testimonial-name { font-weight: 600; font-size: 0.9rem; }
    .testimonial-role { font-size: 0.78rem; color: rgba(255,255,255,0.45); }

    /* ‚îÄ‚îÄ PRICING ‚îÄ‚îÄ */
    .pricing { background: var(--white); }
    .pricing-card {
      max-width: 520px; margin: 0 auto;
      background: var(--white); border: 2px solid var(--gold);
      border-radius: 20px; padding: 3rem; text-align: center;
      box-shadow: var(--shadow-lg); position: relative;
    }
    .pricing-popular {
      position: absolute; top: -14px; left: 50%; transform: translateX(-50%);
      background: var(--gold); color: var(--slate-dark); font-weight: 700;
      padding: 0.35rem 1.5rem; border-radius: 999px; font-size: 0.8rem;
      letter-spacing: 0.05em;
    }
    .pricing-card h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem; color: var(--slate-dark); margin-bottom: 0.5rem;
      margin-top: 0.5rem;
    }
    .pricing-card .price {
      font-size: 3.5rem; font-weight: 800; color: var(--slate-dark);
      margin: 1rem 0;
    }
    .pricing-card .price span { font-size: 1.2rem; font-weight: 500; color: var(--gray-600); }
    .pricing-features {
      list-style: none; text-align: left; margin: 2rem 0;
      display: flex; flex-direction: column; gap: 0.75rem;
    }
    .pricing-features li {
      display: flex; align-items: center; gap: 0.75rem;
      font-size: 0.95rem; color: var(--gray-800);
    }
    .pricing-features li::before {
      content: '\2713'; color: var(--green); font-weight: 800; font-size: 1.1rem;
    }
    .btn-buy {
      width: 100%; padding: 1.1rem; font-size: 1.1rem;
      justify-content: center;
    }
    .guarantee {
      margin-top: 1.25rem; font-size: 0.82rem;
      color: var(--gray-600); display: flex; align-items: center;
      justify-content: center; gap: 0.4rem;
    }

    /* ‚îÄ‚îÄ EMAIL CAPTURE ‚îÄ‚îÄ */
    .email-section {
      background: linear-gradient(165deg, var(--slate-dark) 0%, var(--slate) 100%);
      color: var(--white); text-align: center;
    }
    .email-section .section-header h2 { color: var(--white); }
    .email-section .section-header p { color: rgba(255,255,255,0.65); }
    .email-form {
      max-width: 500px; margin: 0 auto;
      display: flex; gap: 0.75rem;
    }
    .email-form input {
      flex: 1; padding: 0.9rem 1.25rem; border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.2);
      background: rgba(255,255,255,0.08); color: var(--white);
      font-size: 1rem; font-family: 'Inter', sans-serif;
      outline: none; transition: border-color 0.3s;
    }
    .email-form input::placeholder { color: rgba(255,255,255,0.4); }
    .email-form input:focus { border-color: var(--gold); }
    .email-form button { white-space: nowrap; }
    .email-note {
      margin-top: 0.75rem; font-size: 0.78rem;
      color: rgba(255,255,255,0.4);
    }

    /* ‚îÄ‚îÄ FAQ ‚îÄ‚îÄ */
    .faq-list { max-width: 700px; margin: 0 auto; }
    .faq-item {
      border-bottom: 1px solid var(--gray-200); overflow: hidden;
    }
    .faq-question {
      width: 100%; background: none; border: none;
      padding: 1.5rem 0; text-align: left; cursor: pointer;
      font-size: 1.05rem; font-weight: 600; color: var(--slate-dark);
      font-family: 'Inter', sans-serif; display: flex;
      justify-content: space-between; align-items: center;
    }
    .faq-question::after {
      content: '+'; font-size: 1.5rem; color: var(--gold);
      transition: transform 0.3s; font-weight: 400;
    }
    .faq-item.active .faq-question::after { content: '\2212'; }
    .faq-answer {
      max-height: 0; overflow: hidden; transition: max-height 0.4s ease, padding 0.4s;
    }
    .faq-item.active .faq-answer { max-height: 200px; }
    .faq-answer p {
      padding-bottom: 1.5rem; font-size: 0.95rem;
      color: var(--gray-600); line-height: 1.7;
    }

    /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
    footer {
      background: var(--slate-dark); color: rgba(255,255,255,0.5);
      padding: 3rem 2rem; text-align: center; font-size: 0.85rem;
    }
    footer a { color: var(--gold); text-decoration: none; }
    footer a:hover { text-decoration: underline; }
    .footer-links { display: flex; justify-content: center; gap: 2rem; margin-bottom: 1.5rem; }

    /* ‚îÄ‚îÄ AUTH MODAL ‚îÄ‚îÄ */
    .auth-overlay {
      display: none; position: fixed; inset: 0; z-index: 500;
      background: rgba(0,0,0,0.55); backdrop-filter: blur(6px);
      align-items: center; justify-content: center;
    }
    .auth-overlay.open { display: flex; }
    .auth-modal {
      background: var(--white); border-radius: 20px;
      padding: 2.5rem 2rem; width: 90%; max-width: 400px;
      position: relative; animation: modalIn 0.25s ease;
    }
    @keyframes modalIn {
      from { opacity: 0; transform: scale(0.95) translateY(10px); }
      to   { opacity: 1; transform: scale(1) translateY(0); }
    }
    .auth-close {
      position: absolute; top: 1rem; right: 1.25rem;
      background: none; border: none; font-size: 1.4rem;
      color: var(--gray-600); cursor: pointer; line-height: 1;
    }
    .auth-logo {
      font-family: 'Playfair Display', serif;
      color: var(--gold); font-size: 1.2rem; font-weight: 800;
      text-align: center; margin-bottom: 0.25rem;
    }
    .auth-headline {
      text-align: center; font-size: 1.25rem; font-weight: 700;
      color: var(--slate-dark); margin-bottom: 0.4rem;
    }
    .auth-sub {
      text-align: center; font-size: 0.85rem; color: var(--gray-600);
      margin-bottom: 1.75rem;
    }
    .auth-tabs {
      display: flex; gap: 0; margin-bottom: 1.75rem;
      border-radius: 10px; overflow: hidden;
      border: 1px solid var(--gray-200);
    }
    .auth-tab {
      flex: 1; padding: 0.6rem; border: none; background: var(--gray-50);
      font-size: 0.9rem; font-weight: 600; cursor: pointer;
      color: var(--gray-600); font-family: 'Inter', sans-serif;
      transition: all 0.2s;
    }
    .auth-tab.active {
      background: var(--slate); color: var(--white);
    }
    .auth-social-btn {
      width: 100%; display: flex; align-items: center; justify-content: center;
      gap: 0.75rem; padding: 0.8rem 1rem; border-radius: 10px;
      font-size: 0.95rem; font-weight: 600; cursor: pointer;
      font-family: 'Inter', sans-serif; transition: all 0.2s;
      margin-bottom: 0.75rem;
    }
    .auth-google {
      background: var(--white); border: 1.5px solid var(--gray-200);
      color: var(--gray-800);
    }
    .auth-google:hover { border-color: #4285F4; background: #f7f9ff; }
    .auth-apple {
      background: #000; border: 1.5px solid #000;
      color: var(--white);
    }
    .auth-apple:hover { background: #1a1a1a; }
    .auth-divider {
      display: flex; align-items: center; gap: 0.75rem;
      margin: 1.25rem 0; color: var(--gray-600); font-size: 0.8rem;
    }
    .auth-divider::before, .auth-divider::after {
      content: ''; flex: 1; height: 1px; background: var(--gray-200);
    }
    .auth-footer-note {
      text-align: center; font-size: 0.75rem; color: var(--gray-600);
      margin-top: 1.25rem; line-height: 1.6;
    }
    .auth-footer-note a { color: var(--gold-warm); }
    .auth-status {
      text-align: center; font-size: 0.88rem; padding: 0.6rem;
      border-radius: 8px; margin-bottom: 0.75rem; display: none;
    }
    .auth-status.error { background: #fee; color: #c00; display: block; }
    .auth-status.success { background: #efe; color: #060; display: block; }
    .auth-input {
      width: 100%; padding: 0.75rem 1rem; border-radius: 10px;
      border: 1.5px solid var(--gray-200); font-size: 0.95rem;
      font-family: 'Inter', sans-serif; color: var(--gray-800);
      background: var(--white); outline: none; transition: border-color 0.2s;
      margin-bottom: 0.65rem; display: block;
    }
    .auth-input:focus { border-color: var(--slate); }
    .auth-input::placeholder { color: var(--gray-600); }
    .auth-submit {
      width: 100%; padding: 0.85rem; border-radius: 10px;
      background: var(--slate); color: var(--white);
      border: none; font-size: 0.97rem; font-weight: 700;
      cursor: pointer; font-family: 'Inter', sans-serif;
      transition: background 0.2s; margin-top: 0.25rem;
    }
    .auth-submit:hover { background: var(--slate-deep); }
    .auth-submit:disabled { opacity: 0.6; cursor: not-allowed; }

    /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
    @media (max-width: 768px) {
      .hero { padding: 8rem 1.5rem 4rem; }
      .hero-grid { grid-template-columns: 1fr; text-align: center; gap: 3rem; }
      .hero-sub { margin: 0 auto 2rem; }
      .hero-buttons { justify-content: center; }
      .hero-stats { justify-content: center; }
      .hero-book { order: -1; }
      .book-3d { width: 240px; }
      .problem-grid { grid-template-columns: 1fr; }
      .testimonial-grid { grid-template-columns: 1fr; }
.email-form { flex-direction: column; }
      .nav-links { display: none; }
      .mobile-toggle { display: block; }
      .nav-links.open {
        display: flex; flex-direction: column;
        position: absolute; top: 100%; left: 0; right: 0;
        background: var(--slate-deep); padding: 1.5rem 2rem; gap: 1rem;
      }
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="nav-inner">
    <a href="index.html" class="nav-logo"><img src="FUNDS-EDGE-LOGO.png" alt="Funds Edge" style="height:48px;display:block;"></a>
    <ul class="nav-links" id="navLinks">
      <li><a href="#about">What's Inside</a></li>
      <li><a href="#chapters">Chapters</a></li>
      <li><a href="financial-calculators.html">Calculators</a></li>
      <li id="li-premium-calc" style="display:none"><a href="premium-financial-calculators.html" style="color:var(--gold-light)!important;font-weight:700!important;">‚òÖ Premium Calcs</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#pricing" class="nav-cta">Get the Book</a></li>
    </ul>
    <!-- Auth nav area -->
    <div id="navAuthArea" style="display:flex;align-items:center;gap:0.75rem;margin-left:0.5rem;">
      <button id="navSignInBtn" onclick="openAuthModal('signin')" style="background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.25);color:var(--white);padding:0.45rem 1.1rem;border-radius:8px;font-size:0.85rem;font-weight:600;cursor:pointer;transition:all 0.2s;font-family:inherit;">Sign In</button>
      <!-- Logged-in user menu (hidden until auth) -->
      <div id="navUserMenu" style="display:none;position:relative;">
        <button id="navAvatarBtn" onclick="toggleUserMenu()" style="display:flex;align-items:center;gap:0.5rem;background:none;border:none;cursor:pointer;color:var(--white);font-family:inherit;">
          <img id="navAvatarImg" src="" alt="" style="width:32px;height:32px;border-radius:50%;object-fit:cover;border:2px solid var(--gold);display:none;">
          <div id="navAvatarInitials" style="width:32px;height:32px;border-radius:50%;background:var(--gold);color:var(--slate-dark);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:0.8rem;"></div>
          <span id="navUserName" style="font-size:0.85rem;font-weight:600;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"></span>
        </button>
        <div id="userDropdown" style="display:none;position:absolute;top:calc(100% + 8px);right:0;background:white;border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,0.15);min-width:180px;overflow:hidden;z-index:200;">
          <a href="my-account.html" style="display:block;padding:0.75rem 1.25rem;color:var(--slate-dark);text-decoration:none;font-size:0.88rem;font-weight:600;border-bottom:1px solid #f0f0f0;">üë§ My Account</a>
          <button onclick="signOut()" style="display:block;width:100%;text-align:left;padding:0.75rem 1.25rem;color:#c0392b;background:none;border:none;font-size:0.88rem;cursor:pointer;font-family:inherit;border-top:1px solid #f0f0f0;">Sign Out</button>
        </div>
      </div>
    </div>
    <button class="mobile-toggle" onclick="document.getElementById('navLinks').classList.toggle('open')">
      <span></span><span></span><span></span>
    </button>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-grid">
    <div class="hero-text">
      <div class="hero-badge">New for 2026</div>
      <h1>Master the <span>Fundamentals</span> of Building Wealth</h1>
      <p class="hero-sub">A beginner's guide to investing principles ‚Äî learn smart strategies to build wealth through stocks, ETFs, and sound financial planning.</p>
      <div class="hero-buttons">
        <a href="#pricing" class="btn btn-gold">Buy Now ‚Äî $29.99</a>
        <a href="#about" class="btn btn-outline">See What's Inside</a>
      </div>
      <div class="hero-stats">
        <div>
          <span class="hero-stat-num">12</span>
          <span class="hero-stat-label">Chapters</span>
        </div>
        <div>
          <span class="hero-stat-num">100+</span>
          <span class="hero-stat-label">Pages</span>
        </div>
        <div>
          <span class="hero-stat-num">2026</span>
          <span class="hero-stat-label">Updated</span>
        </div>
      </div>
    </div>
    <div class="hero-book">
      <div class="book-3d">
        <!-- Actual book cover image -->
        <img src="Funds-Edge-Book-Cover.png" alt="Beginner's Guide to Investing Principles book cover" style="width:100%;border-radius:10px;box-shadow:20px 20px 60px rgba(0,0,0,0.35),-2px -2px 15px rgba(212,168,67,0.12);transform:rotateY(-8deg);transition:transform 0.5s;" onmouseover="this.style.transform='rotateY(-3deg) scale(1.02)'" onmouseout="this.style.transform='rotateY(-8deg)'">
        <div class="book-glow"></div>
      </div>
    </div>
  </div>
</section>

<!-- PROBLEM / SOLUTION -->
<section class="problems" id="about">
  <div class="section-header">
    <span class="section-label">Why This Book</span>
    <h2>Investing Shouldn't Feel This Hard</h2>
    <p>Most beginner resources either oversimplify or overwhelm. This book meets you where you are.</p>
  </div>
  <div class="problem-grid">
    <div class="problem-card">
      <div class="card-icon">üòµ</div>
      <div>
        <div class="card-title">Information overload</div>
        <div class="card-desc">Thousands of YouTube gurus and Reddit threads, all contradicting each other.</div>
      </div>
    </div>
    <div class="solution-card">
      <div class="card-icon">üéØ</div>
      <div>
        <div class="card-title">One clear, structured path</div>
        <div class="card-desc">12 chapters that build on each other ‚Äî from opening an account to managing a real portfolio.</div>
      </div>
    </div>
    <div class="problem-card">
      <div class="card-icon">üò∞</div>
      <div>
        <div class="card-title">Fear of losing money</div>
        <div class="card-desc">You know you should invest, but the risk of getting it wrong keeps you on the sidelines.</div>
      </div>
    </div>
    <div class="solution-card">
      <div class="card-icon">üõ°Ô∏è</div>
      <div>
        <div class="card-title">Risk management built in</div>
        <div class="card-desc">Dedicated chapters on diversification, risk assessment, and protecting your downside.</div>
      </div>
    </div>
  </div>
</section>

<!-- CHAPTERS -->
<section id="chapters">
  <div class="section-header">
    <span class="section-label">Inside the Book</span>
    <h2>12 Chapters to Go from Zero to Investor</h2>
    <p>Each chapter builds your knowledge step by step, so nothing feels overwhelming.</p>
  </div>
  <div class="chapters-grid">
    <div class="chapter-card">
      <span class="chapter-num">01</span>
      <h3>Why Invest in Stocks?</h3>
      <p>Understand the case for stocks and why starting now matters more than timing the market.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">02</span>
      <h3>Stock Market Fundamentals</h3>
      <p>How exchanges work, what drives prices, and the key terms you actually need to know.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">03</span>
      <h3>Setting Your Goals</h3>
      <p>Define your financial objectives and align your investment strategy accordingly.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">04</span>
      <h3>Brokerage Accounts</h3>
      <p>How to choose a broker, open an account, and navigate the platform with confidence.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">05</span>
      <h3>Research & Analysis</h3>
      <p>Evaluate companies using fundamental metrics ‚Äî P/E ratios, earnings, revenue, and more.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">06</span>
      <h3>Building Your Portfolio</h3>
      <p>Construct a balanced portfolio that matches your goals and risk tolerance.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">07</span>
      <h3>Risk Management</h3>
      <p>Strategies to protect your investments ‚Äî diversification, position sizing, and stop losses.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">08</span>
      <h3>Investment Strategies</h3>
      <p>Value investing, growth investing, dividend strategies, and finding what fits you.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">09</span>
      <h3>ETFs & Index Funds</h3>
      <p>The simplest way to diversify ‚Äî low-cost funds that track the entire market.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">10</span>
      <h3>Taxes & Retirement</h3>
      <p>Tax-advantaged accounts, capital gains basics, and long-term planning essentials.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">11</span>
      <h3>Common Mistakes</h3>
      <p>The pitfalls that trap beginners ‚Äî and exactly how to avoid each one.</p>
    </div>
    <div class="chapter-card">
      <span class="chapter-num">12</span>
      <h3>Your Action Plan</h3>
      <p>A concrete roadmap: your first 30 days as an investor, step by step.</p>
    </div>
  </div>
</section>

<!-- TESTIMONIALS -->
<section class="testimonials">
  <div class="section-header">
    <span class="section-label">Reader Reviews</span>
    <h2>What Early Readers Are Saying</h2>
    <p>Real feedback from people who were once exactly where you are now.</p>
  </div>
  <div class="testimonial-grid">
    <div class="testimonial-card">
      <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="testimonial-text">"I'd been putting off investing for years out of fear. This book explained everything so clearly that I opened my first brokerage account before I even finished reading."</p>
      <div class="testimonial-author">
        <div class="testimonial-avatar">M</div>
        <div>
          <div class="testimonial-name">Marcus T.</div>
          <div class="testimonial-role">First-time investor</div>
        </div>
      </div>
    </div>
    <div class="testimonial-card">
      <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="testimonial-text">"Finally ‚Äî a book that doesn't try to sell me a 'get rich quick' system. Just solid, practical advice. The chapter on risk management alone was worth the price."</p>
      <div class="testimonial-author">
        <div class="testimonial-avatar">S</div>
        <div>
          <div class="testimonial-name">Sarah K.</div>
          <div class="testimonial-role">Small business owner</div>
        </div>
      </div>
    </div>
    <div class="testimonial-card">
      <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="testimonial-text">"Bought this for my college-age son. He texted me to say he actually understood investing for the first time. Clear writing, zero fluff. Highly recommend."</p>
      <div class="testimonial-author">
        <div class="testimonial-avatar">R</div>
        <div>
          <div class="testimonial-name">Robert L.</div>
          <div class="testimonial-role">Parent & long-term investor</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- PRICING -->
<section class="pricing" id="pricing">
  <div class="section-header">
    <span class="section-label">Get Started</span>
    <h2>Invest in Your Financial Education</h2>
    <p>One book. Zero jargon. A lifetime of smarter investing.</p>
  </div>
  <div class="pricing-card">
    <div class="pricing-popular">MOST POPULAR</div>
    <h3>Complete Digital Edition</h3>
    <div class="price">$29<span>.99</span></div>
    <ul class="pricing-features">
      <li>Full 12-chapter eBook (PDF)</li>
      <li>Bonus: Stock Research Checklist</li>
      <li>Bonus: First 30-Day Action Plan Template</li>
      <li>Free updates for life</li>
      <li>Instant digital delivery</li>
    </ul>
    <button class="btn btn-gold btn-buy" onclick="openBuyModal()">
      Buy Now ‚Äî $29.99
    </button>
    <div class="guarantee">üîí 30-day money-back guarantee. No questions asked.</div>
  </div>
</section>

<!-- EMAIL CAPTURE -->
<section class="email-section">
  <div class="section-header">
    <span class="section-label">Free Preview</span>
    <h2>Not Ready to Buy? Get Chapter 1 Free</h2>
    <p>Enter your email and we'll send you the first chapter ‚Äî plus weekly investing tips.</p>
  </div>
  <form class="email-form" onsubmit="event.preventDefault(); this.innerHTML='<p style=\'color:var(--gold);font-weight:600;padding:1rem;\'>‚úì Check your inbox! Chapter 1 is on its way.</p>';">
    <input type="email" placeholder="you@email.com" required>
    <button type="submit" class="btn btn-gold">Send Chapter 1</button>
  </form>
  <p class="email-note">No spam, ever. Unsubscribe anytime.</p>
</section>

<!-- PREMIUM TOOLS SECTION -->
<section id="premium-tools" style="background:var(--gray-50);">
  <div class="section-header">
    <span class="section-label">Premium Members</span>
    <h2>The Complete Funds Edge Platform</h2>
    <p>Beyond the book ‚Äî a full suite of financial tools, dashboards, and calculators available to Premium members.</p>
  </div>

  <!-- Calculators callout -->
  <div style="max-width:1000px;margin:0 auto 3rem;">
    <div style="background:linear-gradient(135deg,#0c0c0e,#1a1a1f);border-radius:16px;padding:2.5rem;display:flex;align-items:center;justify-content:space-between;gap:2rem;flex-wrap:wrap;">
      <div>
        <div style="font-size:0.75rem;letter-spacing:0.12em;text-transform:uppercase;color:#c9a84c;margin-bottom:0.75rem;">Free for Everyone</div>
        <h3 style="font-family:'Playfair Display',serif;font-size:1.5rem;color:#f0ede6;margin-bottom:0.5rem;">25 Financial Calculators</h3>
        <p style="font-size:0.9rem;color:#7a7880;max-width:480px;line-height:1.7;">Budgeting, debt payoff, compound interest, retirement, real estate, IRR, NPV, Monte Carlo simulation ‚Äî all 25 in one place. No signup required.</p>
      </div>
      <a href="financial-calculators.html" style="background:linear-gradient(135deg,#a87d28,#c9a84c);color:#0c0c0e;padding:0.9rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;white-space:nowrap;flex-shrink:0;font-size:0.95rem;transition:all 0.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='none'">Open Calculators ‚Üí</a>
    </div>
  </div>

  <!-- Premium hub cards -->
  <div style="max-width:1000px;margin:0 auto;">
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.25rem;">

      <a href="premium-login.html" style="text-decoration:none;" class="premium-tool-card">
        <div class="ptcard">
          <div class="ptcard-icon" style="background:rgba(212,168,67,0.12);">üéØ</div>
          <div class="ptcard-badge">Premium</div>
          <h4>Financial Health Score</h4>
          <p>15 questions. Your personalized score across 5 financial pillars with a custom action plan.</p>
        </div>
      </a>

      <a href="premium-login.html" style="text-decoration:none;" class="premium-tool-card">
        <div class="ptcard">
          <div class="ptcard-icon" style="background:rgba(91,155,213,0.12);">üìä</div>
          <div class="ptcard-badge">Premium</div>
          <h4>Market Dashboard</h4>
          <p>S&P 500, Fear & Greed Index, yield curve, sector performance, and economic indicators.</p>
        </div>
      </a>

      <a href="premium-login.html" style="text-decoration:none;" class="premium-tool-card">
        <div class="ptcard">
          <div class="ptcard-icon" style="background:rgba(78,203,113,0.12);">üìö</div>
          <div class="ptcard-badge">Premium</div>
          <h4>Education Library</h4>
          <p>47 structured courses, 180+ guides, and a 320-term glossary tied to live calculators.</p>
        </div>
      </a>

      <a href="premium-login.html" style="text-decoration:none;" class="premium-tool-card">
        <div class="ptcard">
          <div class="ptcard-icon" style="background:rgba(155,107,205,0.12);">‚áÑ</div>
          <div class="ptcard-badge">Premium</div>
          <h4>Scenario Comparison</h4>
          <p>Compare any two financial decisions side by side with real math ‚Äî retire at 60 vs. 65, invest $500 vs. $1,000/mo.</p>
        </div>
      </a>

      <a href="premium-login.html" style="text-decoration:none;" class="premium-tool-card">
        <div class="ptcard">
          <div class="ptcard-icon" style="background:rgba(232,117,90,0.12);">‚úÖ</div>
          <div class="ptcard-badge">Premium</div>
          <h4>Financial Checklists</h4>
          <p>Monthly, quarterly, annual, and life-event checklists. Progress saved. Never miss a critical task.</p>
        </div>
      </a>

      <a href="premium-login.html" style="text-decoration:none;" class="premium-tool-card">
        <div class="ptcard">
          <div class="ptcard-icon" style="background:rgba(212,168,67,0.12);">üìÖ</div>
          <div class="ptcard-badge">Premium</div>
          <h4>Financial Calendar</h4>
          <p>Every tax deadline, IRA window, estimated tax date, and market event for 2026 in one clean timeline.</p>
        </div>
      </a>

      <a href="premium-login.html" style="text-decoration:none;" class="premium-tool-card">
        <div class="ptcard">
          <div class="ptcard-icon" style="background:rgba(26,107,90,0.12);">üí¨</div>
          <div class="ptcard-badge">Premium</div>
          <h4>Community Q&amp;A</h4>
          <p>Ask questions, share results, get answers from 2,841 members. 94% answer rate within 4 hours.</p>
        </div>
      </a>

      <a href="premium-login.html" style="text-decoration:none;" class="premium-tool-card">
        <div class="ptcard">
          <div class="ptcard-icon" style="background:rgba(212,168,67,0.12);">üì¨</div>
          <div class="ptcard-badge">Premium</div>
          <h4>The Money Memo</h4>
          <p>Weekly newsletter: market update, one actionable tip, calculator walkthrough. 14,280 subscribers.</p>
        </div>
      </a>

      <a href="premium-login.html" style="text-decoration:none;" class="premium-tool-card">
        <div class="ptcard">
          <div class="ptcard-icon" style="background:rgba(26,58,107,0.12);">ü§ù</div>
          <div class="ptcard-badge">Premium</div>
          <h4>Advisor Directory</h4>
          <p>Find vetted, fee-only fiduciary advisors near you. Filter by specialty, minimum assets, and credentials.</p>
        </div>
      </a>

    </div>

    <div style="text-align:center;margin-top:2.5rem;">
      <a href="premium-login.html" class="btn btn-gold" style="display:inline-flex;margin-right:1rem;">Sign In to Premium ‚Üí</a>
      <a href="#pricing" class="btn btn-outline">Get Premium ‚Äî $29.99</a>
    </div>
  </div>
</section>

<style>
  .ptcard {
    background: var(--white); border: 1px solid var(--gray-200);
    border-radius: var(--radius); padding: 1.75rem;
    transition: all 0.3s; position: relative; height: 100%;
  }
  .premium-tool-card:hover .ptcard {
    border-color: var(--gold); transform: translateY(-4px);
    box-shadow: var(--shadow);
  }
  .ptcard-icon {
    width: 44px; height: 44px; border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.3rem; margin-bottom: 0.75rem;
  }
  .ptcard-badge {
    display: inline-block; background: rgba(212,168,67,0.12);
    border: 1px solid rgba(212,168,67,0.25); color: var(--gold-warm);
    font-size: 0.68rem; font-weight: 700; letter-spacing: 0.07em;
    text-transform: uppercase; padding: 0.2rem 0.6rem;
    border-radius: 999px; margin-bottom: 0.75rem;
  }
  .ptcard h4 {
    font-size: 1rem; font-weight: 700; color: var(--slate-dark);
    margin-bottom: 0.4rem;
  }
  .ptcard p { font-size: 0.87rem; color: var(--gray-600); line-height: 1.6; }
</style>

<!-- FAQ -->
<section id="faq">
  <div class="section-header">
    <span class="section-label">Questions</span>
    <h2>Frequently Asked Questions</h2>
  </div>
  <div class="faq-list">
    <div class="faq-item">
      <button class="faq-question">Do I need any investing experience to read this book?</button>
      <div class="faq-answer"><p>Not at all. This book is specifically designed for complete beginners. It starts from the very basics and builds your knowledge gradually, chapter by chapter. If you've never bought a stock before, this is exactly where to start.</p></div>
    </div>
    <div class="faq-item">
      <button class="faq-question">What format does the book come in?</button>
      <div class="faq-answer"><p>You'll receive a professionally formatted PDF that works beautifully on any device ‚Äî laptop, tablet, phone, or e-reader. It's delivered instantly after purchase.</p></div>
    </div>
    <div class="faq-item">
      <button class="faq-question">Is this book relevant for 2026?</button>
      <div class="faq-answer"><p>Absolutely. While the core investing principles are timeless, this edition has been updated with current market context, modern brokerage platforms, and strategies relevant to today's economic environment.</p></div>
    </div>
    <div class="faq-item">
      <button class="faq-question">How much money do I need to start investing?</button>
      <div class="faq-answer"><p>The book covers strategies for every budget. Many modern brokerages allow you to start with as little as $1 through fractional shares. Chapter 4 walks you through selecting the right platform regardless of your starting amount.</p></div>
    </div>
    <div class="faq-item">
      <button class="faq-question">What if the book isn't right for me?</button>
      <div class="faq-answer"><p>No problem at all. You're covered by a 30-day money-back guarantee. If you don't find the book valuable, just reach out and you'll get a full refund ‚Äî no questions asked.</p></div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="footer-links">
    <a href="https://fundsedge.com" target="_blank">FundsEdge.com</a>
    <a href="financial-calculators.html">25 Calculators</a>
    <a href="premium-login.html">&#9733; Members Login</a>
    <a href="#about">About</a>
    <a href="#faq">FAQ</a>
    <a href="mailto:ahpts.bernardsville@gmail.com">Contact</a>
  </div>
  <p>&copy; 2026 FundsEdge.com &middot; All rights reserved.</p>
  <p style="margin-top:0.75rem;font-size:0.75rem;opacity:0.5;">This book is for educational purposes only and does not constitute financial advice.</p>
</footer>

<!-- AUTH MODAL -->
<div id="authOverlay" class="auth-overlay" onclick="handleOverlayClick(event)">
  <div class="auth-modal" id="authModal">
    <button class="auth-close" onclick="closeAuthModal()" aria-label="Close">&times;</button>
    <div class="auth-logo"><img src="FUNDS-EDGE-LOGO.png" alt="Funds Edge" style="height:60px;display:block;"></div>
    <h2 class="auth-headline" id="authHeadline">Welcome back</h2>
    <p class="auth-sub" id="authSub">Sign in to access your premium tools</p>

    <!-- Sign In / Sign Up tabs -->
    <div class="auth-tabs">
      <button class="auth-tab active" id="tabSignin" onclick="switchTab('signin')">Sign In</button>
      <button class="auth-tab" id="tabSignup" onclick="switchTab('signup')">Sign Up</button>
    </div>

    <!-- Status message -->
    <div class="auth-status" id="authStatus"></div>

    <!-- Google Sign-In button ‚Äî rendered by GIS SDK into this container -->
    <div id="googleSignInBtn" style="width:100%;margin-bottom:0.75rem;min-height:44px;display:flex;justify-content:center;"></div>

    <div class="auth-divider">or</div>

    <!-- Email / Password form -->
    <form id="emailAuthForm" onsubmit="handleEmailAuth(event)">
      <input type="text" id="authName" class="auth-input" placeholder="Your name" autocomplete="name" style="display:none;">
      <input type="email" id="authEmail" class="auth-input" placeholder="Email address" autocomplete="email" required>
      <input type="password" id="authPassword" class="auth-input" placeholder="Password (min 8 characters)" autocomplete="current-password" required minlength="8">
      <button type="submit" class="auth-submit" id="emailSubmitBtn">Sign In</button>
    </form>

    <p class="auth-footer-note">
      By continuing, you agree to our <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>.<br>
      <span id="authToggleNote">Don't have an account? <a href="#" onclick="switchTab('signup');return false;">Sign up free</a></span>
    </p>
  </div>
</div>

<!-- BUY MODAL -->
<div id="buyModal" style="display:none;position:fixed;inset:0;z-index:999;background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);align-items:center;justify-content:center;">
  <div style="background:white;border-radius:20px;padding:2.5rem;max-width:440px;width:90%;position:relative;text-align:center;">
    <button onclick="document.getElementById('buyModal').style.display='none'" style="position:absolute;top:1rem;right:1.25rem;background:none;border:none;font-size:1.5rem;cursor:pointer;color:#999;">x</button>
    <div style="font-size:2.5rem;margin-bottom:1rem;">üìò</div>
    <h3 style="font-family:'Playfair Display',serif;font-size:1.4rem;color:var(--slate-dark);margin-bottom:0.5rem;">Complete Your Purchase</h3>
    <p style="color:var(--gray-600);font-size:0.9rem;margin-bottom:1.5rem;">Beginner's Guide to Investing Principles ‚Äî Digital Edition</p>
    <div style="background:var(--gray-50);border-radius:12px;padding:1.25rem;margin-bottom:1.5rem;">
      <div style="display:flex;justify-content:space-between;font-size:0.95rem;margin-bottom:0.5rem;"><span>eBook (PDF)</span><strong>$29.99</strong></div>
      <div style="display:flex;justify-content:space-between;font-size:0.95rem;color:var(--green);"><span>Bonuses included</span><strong>FREE</strong></div>
      <hr style="border:none;border-top:1px solid var(--gray-200);margin:0.75rem 0;">
      <div style="display:flex;justify-content:space-between;font-weight:800;font-size:1.1rem;"><span>Total</span><span>$29.99</span></div>
    </div>
    <div id="buyModalContent">
      <p style="font-size:0.82rem;color:var(--gray-600);margin-bottom:1.5rem;">Secure checkout powered by Stripe. Instant digital delivery.</p>
      <button class="btn btn-gold" id="buyStripeBtn" onclick="stripeCheckout('book')" style="width:100%;justify-content:center;display:flex;gap:0.5rem;">üîí Buy Now ‚Äî $29.99</button>
    </div>
    <div id="buyModalLoading" style="display:none;text-align:center;padding:0.5rem 0 1rem;">
      <div style="font-size:0.9rem;color:var(--gray-600);">Loading secure checkout‚Ä¶</div>
    </div>
    <div id="buyModalError" style="display:none;margin-top:0.75rem;padding:0.75rem;background:#fde8e8;border-radius:8px;font-size:0.82rem;color:#7a1f20;"></div>
    <div style="margin-top:1rem;font-size:0.75rem;color:#999;">üîí 30-day money-back guarantee ¬∑ Powered by Stripe</div>
  </div>
</div>

<script>
  // FAQ Accordion
  document.querySelectorAll('.faq-question').forEach(btn => {
    btn.addEventListener('click', () => {
      const item = btn.parentElement;
      const wasActive = item.classList.contains('active');
      document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('active'));
      if (!wasActive) item.classList.add('active');
    });
  });

  // Smooth reveal on scroll
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.opacity = '1';
        entry.target.style.transform = 'translateY(0)';
      }
    });
  }, { threshold: 0.1 });

  document.querySelectorAll('.chapter-card, .problem-card, .solution-card, .testimonial-card, .faq-item').forEach(el => {
    el.style.opacity = '0';
    el.style.transform = 'translateY(20px)';
    el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
    observer.observe(el);
  });
</script>

<!-- Google Identity Services SDK -->
<script src="https://accounts.google.com/gsi/client" async defer></script>
<script src="https://js.stripe.com/v3/"></script>

<script>
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
//  AUTH MODAL
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const GOOGLE_CLIENT_ID = '689566851996-6j87mv2f5efncg959nsih2a3ugf2gpqn.apps.googleusercontent.com';
const APPLE_CLIENT_ID  = ''; // TODO: paste your Apple Service ID here

let googleInitialized = false;

function openAuthModal(tab = 'signin') {
  document.getElementById('authOverlay').classList.add('open');
  switchTab(tab);
  clearAuthStatus();
  // Render the real Google button once the modal is visible
  requestAnimationFrame(renderGoogleButton);
}

function renderGoogleButton() {
  if (!GOOGLE_CLIENT_ID || typeof google === 'undefined') return;
  const container = document.getElementById('googleSignInBtn');
  if (!container) return;

  if (!googleInitialized) {
    google.accounts.id.initialize({
      client_id: GOOGLE_CLIENT_ID,
      callback: onGoogleCredential,
    });
    googleInitialized = true;
  }

  // Clear any previously rendered button and re-render at correct width
  container.innerHTML = '';
  google.accounts.id.renderButton(container, {
    theme: 'outline',
    size: 'large',
    text: 'continue_with',
    width: container.offsetWidth || 340,
    logo_alignment: 'center',
  });
}

function closeAuthModal() {
  document.getElementById('authOverlay').classList.remove('open');
}

function handleOverlayClick(e) {
  if (e.target === document.getElementById('authOverlay')) closeAuthModal();
}

function switchTab(tab) {
  const isSignin = tab === 'signin';
  document.getElementById('tabSignin').classList.toggle('active', isSignin);
  document.getElementById('tabSignup').classList.toggle('active', !isSignin);
  document.getElementById('authHeadline').textContent = isSignin ? 'Welcome back' : 'Create your account';
  document.getElementById('authSub').textContent = isSignin
    ? 'Sign in to access your premium tools'
    : 'Join free and start your investing journey';
  document.getElementById('authToggleNote').innerHTML = isSignin
    ? 'Don\'t have an account? <a href="#" onclick="switchTab(\'signup\');return false;">Sign up free</a>'
    : 'Already have an account? <a href="#" onclick="switchTab(\'signin\');return false;">Sign in</a>';
  // Show name field only on sign-up
  const nameField = document.getElementById('authName');
  nameField.style.display = isSignin ? 'none' : 'block';
  nameField.required = !isSignin;
  document.getElementById('authPassword').autocomplete = isSignin ? 'current-password' : 'new-password';
  document.getElementById('emailSubmitBtn').textContent = isSignin ? 'Sign In' : 'Create Account';
  clearAuthStatus();
}

// ‚îÄ‚îÄ Email / Password Auth ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function handleEmailAuth(e) {
  e.preventDefault();
  const isSignin = document.getElementById('tabSignin').classList.contains('active');
  const email    = document.getElementById('authEmail').value.trim();
  const password = document.getElementById('authPassword').value;
  const name     = document.getElementById('authName').value.trim();
  const btn      = document.getElementById('emailSubmitBtn');

  btn.disabled = true;
  btn.textContent = isSignin ? 'Signing in...' : 'Creating account...';
  clearAuthStatus();

  try {
    const endpoint = isSignin ? '/api/auth/email/signin' : '/api/auth/email/signup';
    const body = isSignin ? { email, password } : { email, password, name };
    const res = await fetch(endpoint, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      credentials: 'include',
      body: JSON.stringify(body),
    });
    const data = await res.json();
    if (!res.ok) throw new Error(data.error || 'Authentication failed');
    onAuthSuccess(data.user, data.token);
  } catch (err) {
    setAuthStatus(err.message, 'error');
    btn.disabled = false;
    btn.textContent = isSignin ? 'Sign In' : 'Create Account';
  }
}

function setAuthStatus(msg, type) {
  const el = document.getElementById('authStatus');
  el.textContent = msg;
  el.className = 'auth-status ' + type;
}

function clearAuthStatus() {
  document.getElementById('authStatus').className = 'auth-status';
  document.getElementById('authStatus').textContent = '';
}

// ‚îÄ‚îÄ Google Sign-In ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function onGoogleCredential(response) {
  setAuthStatus('Signing in...', 'success');
  try {
    const res = await fetch('/api/auth/google', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      credentials: 'include',
      body: JSON.stringify({ credential: response.credential }),
    });
    const data = await res.json();
    if (!res.ok) throw new Error(data.error || 'Sign-in failed');
    onAuthSuccess(data.user, data.token);
  } catch (err) {
    setAuthStatus(err.message, 'error');
  }
}

// ‚îÄ‚îÄ After successful auth ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function onAuthSuccess(user, token) {
  if (token) localStorage.setItem('ia_token', token);
  localStorage.setItem('ia_user', JSON.stringify(user));

  setAuthStatus('Signed in! Redirecting...', 'success');
  updateNavForUser(user);

  // Book owners and premium members go to the account overview page
  const isPremium = user.subscription_status === 'premium' || user.is_admin;
  if (user.has_book || isPremium) {
    setTimeout(() => { window.location.href = 'my-account.html'; }, 600);
  } else {
    setTimeout(closeAuthModal, 800);
  }
}

// ‚îÄ‚îÄ Nav state ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function updateNavForUser(user) {
  document.getElementById('navSignInBtn').style.display = 'none';
  document.getElementById('navUserMenu').style.display = 'flex';

  const initials = (user.name || user.email || '?')
    .split(' ').map(w => w[0]).join('').toUpperCase().slice(0, 2);
  document.getElementById('navAvatarInitials').textContent = initials;

  const displayName = (user.name || user.email || '').split(' ')[0];
  document.getElementById('navUserName').textContent = displayName;

  if (user.picture) {
    const img = document.getElementById('navAvatarImg');
    img.src = user.picture;
    img.style.display = 'block';
    document.getElementById('navAvatarInitials').style.display = 'none';
  }

  // Show Premium Calculators link for premium members and admins
  if (user.subscription_status === 'premium' || user.is_admin) {
    const li = document.getElementById('li-premium-calc');
    if (li) li.style.display = '';
  }
}

function toggleUserMenu() {
  const dropdown = document.getElementById('userDropdown');
  dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
}

// Close dropdown when clicking outside
document.addEventListener('click', (e) => {
  if (!document.getElementById('navUserMenu').contains(e.target)) {
    const dd = document.getElementById('userDropdown');
    if (dd) dd.style.display = 'none';
  }
});

async function signOut() {
  await fetch('/api/auth/logout', { method: 'POST', credentials: 'include' });
  localStorage.removeItem('ia_token');
  localStorage.removeItem('ia_user');
  document.getElementById('navSignInBtn').style.display = '';
  document.getElementById('navUserMenu').style.display = 'none';
  document.getElementById('userDropdown').style.display = 'none';
}

// ‚îÄ‚îÄ Restore session on page load ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
(async function restoreSession() {
  const cached = localStorage.getItem('ia_user');
  if (cached) {
    try {
      // Quick UI restore from cache
      updateNavForUser(JSON.parse(cached));
      // Verify with server to get latest flags (e.g. has_book, subscription_status)
      const res = await fetch('/api/auth/me', { credentials: 'include' });
      if (res.ok) {
        const data = await res.json();
        updateNavForUser(data.user);
        localStorage.setItem('ia_user', JSON.stringify(data.user));
      } else {
        // Session expired
        localStorage.removeItem('ia_token');
        localStorage.removeItem('ia_user');
        document.getElementById('navSignInBtn').style.display = '';
        document.getElementById('navUserMenu').style.display = 'none';
      }
    } catch (_) {}
  }
})();

// ‚îÄ‚îÄ Open Buy Modal (or redirect book owners to download page) ‚îÄ
function openBuyModal() {
  const cached = localStorage.getItem('ia_user');
  if (cached) {
    try {
      const user = JSON.parse(cached);
      if (user.has_book) {
        window.location.href = 'book-download.html';
        return;
      }
    } catch (_) {}
  }
  document.getElementById('buyModal').style.display = 'flex';
}

// ‚îÄ‚îÄ Stripe Embedded Checkout ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let _stripe = null;
let _embeddedCheckout = null;

async function openEmbeddedCheckout(type) {
  const overlay    = document.getElementById('stripeOverlay');
  const container  = document.getElementById('stripeCheckoutEl');
  overlay.style.display = 'block';
  container.innerHTML = '<div style="text-align:center;padding:2.5rem;color:#666;font-family:Inter,sans-serif;">Loading secure checkout‚Ä¶</div>';

  try {
    if (!_stripe) {
      const cfg = await fetch('/api/stripe/config').then(r => r.json());
      if (!cfg.publishableKey) throw new Error(cfg.error || 'Stripe not configured');
      _stripe = Stripe(cfg.publishableKey);
    }
    if (_embeddedCheckout) { _embeddedCheckout.destroy(); _embeddedCheckout = null; }

    _embeddedCheckout = await _stripe.initEmbeddedCheckout({
      fetchClientSecret: async () => {
        const res = await fetch('/api/stripe/create-checkout', {
          method: 'POST',
          credentials: 'include',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ type, embedded: true }),
        });
        const data = await res.json();
        if (!res.ok) throw new Error(data.error || 'Checkout failed');
        return data.clientSecret;
      },
    });
    container.innerHTML = '';
    _embeddedCheckout.mount('#stripeCheckoutEl');
  } catch (err) {
    container.innerHTML = `<div style="padding:1.5rem;color:#c0392b;background:#fde8e8;border-radius:8px;font-family:Inter,sans-serif;">${err.message}</div>`;
  }
}

function closeStripeOverlay() {
  if (_embeddedCheckout) { _embeddedCheckout.destroy(); _embeddedCheckout = null; }
  document.getElementById('stripeOverlay').style.display = 'none';
}

// ‚îÄ‚îÄ Stripe Checkout entry point ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// type: 'book' | 'premium_monthly' | 'premium_lifetime'
async function stripeCheckout(type) {
  // Must be signed in ‚Äî prompt auth if not
  const cached = localStorage.getItem('ia_user');
  if (!cached) {
    document.getElementById('buyModal').style.display = 'none';
    openAuthModal('signup');
    return;
  }

  // If user already owns the book, send them to the download page
  if (type === 'book') {
    try {
      const user = JSON.parse(cached);
      if (user.has_book) {
        window.location.href = 'book-download.html';
        return;
      }
    } catch (_) {}
  }

  // Close the buy modal and open embedded checkout overlay
  document.getElementById('buyModal').style.display = 'none';
  openEmbeddedCheckout(type);
}
</script>

<!-- ‚îÄ‚îÄ Stripe Embedded Checkout Overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div id="stripeOverlay" onclick="if(event.target===this)closeStripeOverlay()"
     style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.65);z-index:10000;overflow-y:auto;padding:20px;">
  <div style="position:relative;width:100%;max-width:640px;margin:40px auto;border-radius:16px;overflow:hidden;background:#fff;">
    <button onclick="closeStripeOverlay()" aria-label="Close checkout"
            style="position:absolute;top:10px;right:10px;z-index:1;background:rgba(0,0,0,0.08);border:none;border-radius:50%;width:32px;height:32px;font-size:20px;line-height:32px;cursor:pointer;color:#444;">√ó</button>
    <div id="stripeCheckoutEl" style="min-height:220px;"></div>
  </div>
</div>

<script src="/tracker.js"></script>
</body>
</html>